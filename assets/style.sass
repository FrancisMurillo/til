---
---

@import url('//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
@import url('//cdn.jsdelivr.net/hint.css/1.3.2/hint.min.css')

@import 'base/utils'
@import 'base/typography'
@import 'base/normalize'

$text:        #555
$black:       #020202
$bg:          #fff
$wash:        #f4f5f7

$gray:        #808890
$lightgray:   #c0d3da
$hairline:    #eef3fa

$accent:      dodgerblue
$accent2:     #f53

$term-border: mix($accent, white, 50%)

$page-width:  620px

/*
 * html base (html, body)
 */

*
  +antialias

html
  font-size: $body-font-size
  line-height: $body-line-height
  background: $bg
  color: $text

  @media (max-width: 768px)
    font-size: floor($body-font-size * 14/17)

html
  transition: opacity 200ms linear
  opacity: 1

html, input, textarea, td, th
  +body-font

html, body
  overflow-x: hidden

/*
 * fouc prevention
 */

body
  transition: opacity 100ms linear

html.no-js *
  opacity: 0

/*
 * basic styles (a, p, img...)
 */

a, a:visited
  color: $text
  text-decoration: none
  box-shadow: inset 0 -1px rgba(#888, 0.3)
  transition: all 100ms linear

a:focus, a:hover
  box-shadow: inset 0 -2px $accent
  color: $black

strong, b
  &, a, a:visited
    color: $black

h3, p, ul, ol
  margin: 1.5em 0

/*
 * iframes
 */

p > iframe
  margin: 0 auto
  display: block

/*
 * lists
 */

ul, ol
  padding-left: 1.5em

ul
  &
    list-style: none

  > li
    position: relative

  > li:before
    content: ''
    display: block
    position: absolute
    left: -1.4em
    top: 0
    margin-top: 0.7em
    width: 4px
    height: 4px
    border-radius: 50%
    border: solid 2px $lightgray

    @media (max-width: 768px)
      width: 3px
      height: 3px

/*
 * headings
 */

h2
  &, a, a:visited
    color: $black

h2
  text-align: center
  +headline-font
  +headline-font-size(2em, 1.4)
  margin: 2em auto 0 auto
  @media (max-width: 768px)
    +headline-font-size(1.6em)

@media (min-width: 769px)
  h2:before,
  h2:after
    content: ''
    display: inline-block
    vertical-align: middle
    width: 46px
    height: 1px
    background: $lightgray
    margin: 0 30px

h3
  +bold-font
  +bold-font-size(1.1em)
  margin-top: 2em

  &, a, a:visited
    color: $black

  @media (max-width: 768px)
    margin-top: 1.5em

h3 + p
  margin-top: -1.7em

/*
 * images
 */

p > img:first-child:last-child
  display: block
  margin: 0 auto
  max-width: 100%

code
  +mono-font
  +mono-font-size(0.9em)

hr
  width: 200px
  height: 1px
  border: 0
  background: $lightgray
  margin: 3em auto
  display: block

/*
 * table
 */

table
  min-width: 100%
  margin-top: 2em
  margin-bottom: 2em
  font-size: 0.9em
  border-bottom: solid 1px $gray

thead > tr:first-child > th,
thead > tr:first-child > td,
tbody > tr:first-child > th,
tbody > tr:first-child > td
  border-top: solid 1px $gray

td, th
  text-align: left
  border-top: solid 1px $hairline
  padding: 8px 10px

th
  +bold-font
  color: $black

td:first-child,
th:first-child
  text-align: left
  padding-left: 0

td:last-child,
th:last-child
  padding-right: 0

table.no-head
  thead
    display: none

table.shortcuts
  &
    table-layout: fixed

  thead
    display: none

  th:nth-child(1), td:nth-child(1)
    width: 25%

  th:nth-child(2), td:nth-child(2)
    width: 75%

  td:first-child > code
    background: #fcfcfc
    padding: 5px 10px
    border-radius: 2px

table.lite-headings
  &
    border-bottom: solid 1px mix($gray, $lightgray, 50%)
    
  th
    color: mix($gray, $lightgray, 50%)
    font-size: 0.9em

  thead > tr:first-child > td,
  thead > tr:first-child > th
    border-top: solid 1px mix($gray, $lightgray, 50%)

  tbody > tr:first-child > td,
  tbody > tr:first-child > th
    border-top: solid 1px $hairline

/*
 * pre > code -- code blocks
 */

pre > code
  +mono-font
  +mono-font-size(0.87em)
  color: $text
  padding-right: 20px
  // box-shadow: inset 1px 1px rgba(black, 0.06)

pre
  padding: 20px 50px
  border-radius: 4px
  background: $wash
  margin: 2.2em -50px
  line-height: 1.25em

  @media (max-width: 768px)
    padding: 20px
    margin: 2em -20px
    background: darken($wash, 3%)

  @media (max-width: 660px)
    border-radius: 0

pre + pre
  margin-top: -1.5em

pre.medium
  > code
    font-size: 1em
  @media (min-width: 768px)
    padding-top: 30px
    padding-bottom: 30px

pre.large
  > code
    font-size: 1.1em
    line-height: 1.4em
  @media (min-width: 768px)
    padding-top: 30px
    padding-bottom: 30px

pre.terminal,
pre.light
  &
    background: white
    border: solid 1px $term-border
    position: relative

pre.terminal
  &
    padding-top: 56px

  &.large
    padding-top: 65px

  &:before
    content: ''
    display: block
    height: 34px
    line-height: 34px
    background: white
    border-bottom: solid 1px $term-border
    border-top-left-radius: 3px
    border-top-right-radius: 3px
    position: absolute
    top: 0
    left: 0
    right: 0
    +bold-font

  &:after
    content: ''
    position: absolute
    display: block
    width: 4px
    height: 4px
    border-radius: 50%
    left: 15px
    top: 15px
    font-size: 20px
    background-color: $term-border
    box-shadow: 20px 0 $term-border, 40px 0 $term-border

  @media (max-width: 768px)
    margin-left: 0
    margin-right: 0

@media (min-width: 769px)
  pre.cursor > code > :last-child:after
    content: ''
    display: inline-block
    width: 3px
    height: 1em
    transform: scaleY(1.5) translateY(0.1em)
    margin-left: 0.4em
    background-color: $accent
    -webkit-animation: blink 700ms steps(2,end) infinite
    -moz-animation: blink 700ms steps(2,end) infinite
    animation: blink 700ms steps(2,end) infinite

@import 'components/about-the-site'
@import 'components/big-button'
@import 'components/brief-intro'
@import 'components/full-image'
@import 'components/hint'
@import 'components/hljs'
@import 'components/next-article'
@import 'components/post-headline'
@import 'components/post-icon'
@import 'components/post-index'
@import 'components/post-list'
@import 'components/site-header'
@import 'components/social-list'

@import 'utilities/general'
@import 'utilities/margins'
@import 'utilities/blink'
