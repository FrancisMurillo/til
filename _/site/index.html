<!doctype html>
<!--

    follow me on twitter.

     ,-.          .                      
    /,-.\ ,-. ,-. |- ,-. ,-. ,-. . . ,_, 
    |,-|| |   `-. |  ,-| |   |   | |  /  
    \`-^/ '   `-' `' `-^ `-' '   `-^ '"' 
     `-'                                 

-->
<html class='no-js ' lang='en'>
<head>
  <meta charset='utf-8'>

  
  <title>Rico Sta. Cruz</title>
  <meta content='Rico Sta. Cruz' property='og:title'>
  <meta content='Rico Sta. Cruz' property='twitter:title'>
  <meta content='blog' property='og:type'>
  

  

  

  <meta content='Rico Sta. Cruz' property='og:site_name'>
  <meta content='169204529787544' property='fb:app_id'>
  <meta content='ricostacruz' property='fb:admins'>

  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
  <meta content='width=device-width, initial-scale=1.0' name='viewport'>
  <link href='/favicon.png' rel='shortcut icon'>

  <!-- <link rel="alternate" type="application/rss+xml" title="Rico Sta. Cruz" href="/atom.xml"> -->

  <link href='assets/style.css' rel='stylesheet'>

  <script>if(~location.hostname.indexOf("ricostacruz.com")){var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-20473929-1"]);_gaq.push(["_trackPageview"]);(function(){var ga=document.createElement("script");ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})()}</script>

</head>
<body>
<script>document.documentElement.className += ' loading';</script>

  
    <div class='post-list'>
      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/easy-color-computations.html">
                Easy color calculations
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/easy-color-computations.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>03 Mar 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Use <a href="http://learnboost.github.io/stylus">stylus</a>’s CLI.</p>

<pre><code class="language-sh">$ npm i -g stylus
$ stylus -i
</code></pre>

<p>Stylus boost faster that Sass and has shorter syntax for color computations. Here’s lighten:</p>

<pre><code>&gt; #aaa + 10%
=&gt; #b2b2b2
</code></pre>

<p>Hue shift:</p>

<pre><code>&gt; #ff0 - 10deg
=&gt; #ffd500
</code></pre>

<p>Or if you really want a one-liner:</p>

<pre><code class="language-sh">echo "*{a: #ff0 - 10deg}" | stylus -p
* { a: #ffd500; }
</code></pre>


          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/inline-svg-in-css.html">
                Inline SVG in CSS
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/inline-svg-in-css.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>02 Mar 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Here is white triangle notch (perfect for making parallelograms):</p>

<pre><code>.box {
  background:
    url("data:image/svg+xml;utf8,&lt;svg xmlns='http://www.w3.org/2000/svg' width='1000' height='20' version='1.1'&gt;&lt;polyline fill='white' points='0,0 1000,0 0,20'/&gt;&lt;/svg&gt;") left top / 100% auto no-repeat
}
</code></pre>

<p>Caveats:</p>

<ul>
  <li>IE9+ supported, legacy IE’s arent.</li>
  <li>Hex color codes are not supported. Use <code>rgb(0, 100, 200)</code> instead.</li>
</ul>

<p><a href="http://cssdeck.com/labs/ip24y9lj">Demo here.</a></p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/organizing-js.html">
                Organizing JavaScript for simple sites
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/organizing-js.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>26 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Some sites don’t need big JavaScript architectures, only bits of small behaviors that will affect certain elements.</p>

<p>I prefer to put them into a directory called <code>behaviors/</code> where each file is a self-contained piece of code that only affects <em>one</em> element type. They should also be independent of each other, and therefore, order-agnostic.</p>

<p>Name each one of the files according to the <code>class</code> (or <code>role</code>) it affects.</p>

<h3 id="examples">Examples</h3>

<pre><code class="language-js">...
└── javascripts/
    └── behaviors/
        ├── colorpicker.js
        ├── modal.js
        ├── select2.js
        ├── tooltip.js
        └── wow.js
</code></pre>

<pre><code class="language-js">// select2.js -- affects `.select2`
$(function () {
  $(".select2").select2();
})
</code></pre>

<pre><code class="language-js">// wow.js -- affects `.wow`
$(function () {
  new WOW().init();
})
</code></pre>

<pre><code class="language-js">// tooltips.js -- affects `.tooltip`
$(document).on('hover', '.tooltip', function () {
  ...
});
</code></pre>

<h3 id="including">Including</h3>
<p>Then just include them all. In Rails, this should be as easy as:</p>

<pre><code class="language-js">//= require_tree ./behaviors
</code></pre>

<p>This JavaScript will be safe to include in all pages.</p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/es6-class-pitfalls.html">
                ES6 class pitfalls
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/es6-class-pitfalls.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>25 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>ES6 makes it easy to define classes.</p>

<pre><code class="language-js">class Shape {
  get area() {
    return this.width * this.height;
  }
}
</code></pre>

<p>But you can’t have decorated functions. For that, you’ll still need to drop to using <code>prototype</code>.</p>

<pre><code class="language-js">Shape.prototype.iterate = memoize(function () {
  ...
})
</code></pre>

<p>Same with non-method attributes.</p>

<pre><code class="language-js">Shape.prototype.template =
  require('fs').readFileSync('./template.html', 'utf-8');
</code></pre>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/using-bower-and-rails-in-heroku.html">
                Using Bower and Rails in Heroku
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/using-bower-and-rails-in-heroku.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>24 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>This seems pretty easy until you realize that Bower (a Node.js package) is not available in the Heroku Ruby build pack.</p>

<h3 id="bower-rails">bower-rails</h3>
<p>The gem <a href="http://rubygems.org/gems/bower-rails">bower-rails</a> allows for easy Bower integration into Rails, but it won’t work out of the box in Heroku.</p>

<h3 id="adding-execjs">Adding execjs</h3>
<p>The <a href="https://github.com/heroku/heroku-buildpack-ruby">Ruby buildpack</a> has a magic behavior where if it detects the <code>execjs</code> gem, it will <a href="https://github.com/heroku/heroku-buildpack-ruby#assets">bundle Node.js</a> with the build. This should make it work.</p>

<pre><code>gem 'execjs'
</code></pre>

<h3 id="alternative-use-multiple-build-packs">Alternative: use multiple build packs</h3>
<p>Use the <a href="https://github.com/ddollar/heroku-buildpack-multi">Multi buildpack</a> like so:</p>

<pre><code>heroku config:add BUILDPACK_URL=https://github.com/ddollar/heroku-buildpack-multi.git
</code></pre>

<p>To use both Ruby and Node.js buildpacks:</p>

<pre><code># vim .buildpacks
https://github.com/heroku/heroku-buildpack-nodejs.git#v60
https://github.com/heroku/heroku-buildpack-ruby.git#v127
</code></pre>

<p>I recommend locking the versions (<code>#v60</code>) to ensure that you get versions that interoperate together (in case one upgrades and breaks interoperability).</p>

<p>The last pack defined (Ruby in this case) is the “main” one that defines the process types (web, console, etc).</p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/refactoring-long-calls.html">
                Refactoring long calls
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/refactoring-long-calls.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>24 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Consider seeing this code in a view. It seems a little long, and may be a candidate for refactoring.</p>

<pre><code class="language-ruby">= event.ticket.custom_message.to_s.strip.gsub("[URL]", site_url)
</code></pre>

<h3 id="attempt-1">Attempt #1</h3>
<p>One way to rewrite this is to make it as short as possible, ie, store all the complexity in a helper (<code>a_helper(object)</code>).</p>

<pre><code class="language-ruby">= custom_message_for(event)

def custom_message_for(event)
  event.ticket.custom_message.to_s.strip.gsub("[URL]", site_url)
end
</code></pre>

<p>In my opinion, this isn’t really good because:</p>

<ul>
  <li>The complexity was simply moved from one part to another, instead of broken down into more easily-understandable chunks.</li>
  <li>The method <code>custom_message_for</code> is too tightly coupled. To test this, you will need to create a mock event, with a mock ticket, with a mock custom message.</li>
</ul>

<h3 id="attempt-2">Attempt #2</h3>
<p>I would prefer this to be written as:</p>

<pre><code class="language-ruby">= format_message(event.ticket.custom_message)

def format_message(message)
  message.to_s.strip.gsub("[URL]", site_url)
end
</code></pre>

<p>The view code may be a little longer, but you get these advantages:</p>

<ul>
  <li>The method <code>format_message</code> is simple and its purpose is immediately obvious.</li>
  <li>Glancing at the view code (<code>format_message(event...)</code>), it’s apparent how the message is being derived.</li>
  <li>It can be easily tested (just need to pass it a string).</li>
</ul>

<p>…Another way to implement this is with a presenter, which may not be a bad idea either.</p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/use-bower-in-npm.html">
                Use Bower packages like npm packages
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/use-bower-in-npm.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>23 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p><a href="https://www.npmjs.com/package/napa">Napa</a> is a package that lets you install arbitrary projects (without package.json) into <code>node_modules</code>.</p>

<p>Bower packages are repos without package.json manifests. Hence, you can use Napa to use Bower packages as if they were npm packages… sort of.</p>

<pre><code class="language-js">{
  "scripts": {
    "install": "napa"
  },
  "napa": {
    "hint": "chinchang/hint.css#v1.3.1",
    "colorbox": "jackmoore/colorbox#1.5.9"
  }
</code></pre>

<p>Promising idea, but I’d like to see it developed more. Some caveats as of 1.2.0:</p>

<ul>
  <li>not compatible with <code>npm shrinkwrap</code></li>
  <li>upgrading packages are not automatic</li>
</ul>


          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/use-markdown-documentation.html">
                Use Markdown for documentation
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/use-markdown-documentation.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>19 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>The most universal documentation “format” is a bunch of Markdown files inside a project’s <code>doc/</code> directory.</p>

<p>Here are some projects that follow that convention:</p>

<ul>
  <li><a href="https://github.com/iojs/io.js/tree/v1.x/doc/api">io.js</a> (and Node.js)</li>
  <li><a href="https://github.com/LearnBoost/stylus/tree/master/docs">stylus</a></li>
  <li><a href="https://github.com/puppetlabs/puppet/tree/master/docs">puppet</a></li>
  <li><a href="https://github.com/saltstack/salt/tree/develop/doc">salt</a> (uses .rst)</li>
  <li><a href="https://github.com/pypa/pip/tree/develop/docs">pip</a> (uses .rst)</li>
  <li><a href="https://github.com/npm/npm/tree/master/doc">npm</a></li>
  <li><a href="https://github.com/composer/composer/tree/master/doc">composer</a></li>
</ul>

<p>In my opinion, “a bunch of Markdown files” is good because:</p>

<ul>
  <li>It’s easily viewable in GitHub</li>
  <li>It can be made into a Jekyll (GitHub pages) site easily</li>
  <li>It can be made into a Sphinx site easily</li>
  <li>It’s a common documentation format that you can get some tools to generate to</li>
</ul>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/rails-inline-partials.html">
                Inline partials
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/rails-inline-partials.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>18 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Ever find it annoying to have really long blocks of code being hard to parse in your head?</p>

<pre><code class="language-haml">
- if @list.any?
  - @list.each do |item|
    - # really long code
    - # ...

- else
  - # also long code
  - # ...
</code></pre>

<p>You can break them into partials, or like so:</p>

<pre><code class="language-ruby">- body, list, empty = nil

- body = Proc.new do
  - if @list.any?
    - list.call
  - else
    - empty.call

-# List of items
- list = Proc.new do
  %div
    - @venues.each do |venue|
      = venue

-# No items available
- empty = Proc.new do
  %div nothing here

- body.call
</code></pre>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/node-js-exiting.html">
                Node.js exit hooks
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/node-js-exiting.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>17 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Usually useful for test frameworks or daemon runners or whatever:</p>

<pre><code class="language-js">process.on('uncaughtException', err =&gt; { ... })
process.on('SIGHUP', ...)
process.on('exit', ...)
process.on('beforeExit', ...)
</code></pre>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/extend-sucks.html">
                @extend sucks
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/extend-sucks.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>16 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Using <code>@extend</code> in CSS preprocessors really suck… so use mixins instead. Consider this example:</p>

<pre><code class="language-scss">%antialias {
  text-rendering: optimizeLegibility !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale;
}
</code></pre>

<p>Seems innocent enough:</p>

<pre><code class="language-scss">h3 {
  @extend %antialias;
}
</code></pre>

<p>Until you try it with media queries:</p>

<pre><code class="language-scss">@media (max-width: 300px) {
  h3 {
    @extend %antialias;
  }
}
</code></pre>

<p>…then it won’t work. Use mixins instead.</p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/javascript-orms-suck.html">
                JavaScript ORM's suck
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/javascript-orms-suck.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>15 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Consider this scenario: there’s a strange bug in production’s data that you need to inspect. In Rails, you can tell <code>rails console</code>: “show me all project IDs that are active and made by users that never logged in” like so:</p>

<pre><code class="language-ruby">pry(main)&gt; User.where(last_signed_in: null)
  .map { |u| u.projects.active }
  .flatten
  .pluck :id
</code></pre>

<p>This may not be the most efficient way to do it, but some situations are urgent and will call for one-offs like these.</p>

<p>In Node.js, you’ll probably do something like this:</p>

<pre><code class="language-js">&gt; User.where({ last_signed_in: null })
  .fetch().then(function (users) {
    return Promise.all(users.map(function(u){
      return u.projects.active.fetch();
    }))
  })
  .then(function(projects) {
    return projects.map(function(p) {
      return p.id;
    });
  })
  .then(console.log)
</code></pre>

<p>Ah, granted that promises and ES6 (fat arrows) would make this better, but still…</p>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/use-browserify-to-precompile.html">
                Use Browserify to precompile npm libraries
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/use-browserify-to-precompile.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>14 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Remove the hassle in writing npm libraries in a transpiled language (<a href="http://babeljs.io/">babeljs</a>, <a href="http://coffeescript.org/">CoffeeScript</a>, etc) by using browserify.</p>

<p>With this technique, there’s no need to maintain a full new directory of compiled files… just one pre-built <code>dist/</code> file.</p>

<h3 id="files">Files</h3>

<pre><code>.
├─ lib
│  └─ index.coffee    - actual entry point
├─ dist
│  └─ js2coffee.js    - built package
└─ index.js           - entry point (used in development)
</code></pre>

<h3 id="install-the-requisite-packages">Install the requisite packages</h3>

<pre><code class="language-sh">npm install --save-dev browserify coffeeify
</code></pre>

<h3 id="make-indexjs">Make index.js</h3>
<p>Put your <em>actual</em> main entry point as, say, <code>./lib/index.coffee</code>. Then create an entry point <code>./index.js</code> like this for development:</p>

<pre><code class="language-js">require('coffee-script/register');
require('./lib/index');
</code></pre>

<h3 id="set-up-compilation">Set up compilation</h3>
<p>Set up a compliation script in the prepublish hook:</p>

<pre><code class="language-js">{
  "scripts": {
    "prepublish": "browserify -s js2coffee --bare -t [ coffeeify -x .coffee ] ./js2coffee.coffee &gt; dist/js2coffee.js"
  }
}
</code></pre>

<p>You probably will want to use:</p>

<ul>
  <li><a href="https://github.com/jnordberg/coffeeify">coffeeify</a> for CoffeeScript (<code>-t [ coffeeify -x .coffee ]</code>)</li>
  <li><a href="https://github.com/babel/babelify">babelify</a> for ES6/React (<code>-t [ babelify ]</code>)</li>
</ul>

<p>Options used:</p>

<ul>
  <li><code>-s</code> - standalone (uses a UMD wrapper)</li>
  <li><code>--bare</code> - don’t stub node builtins</li>
  <li><code>-t</code> - transform</li>
</ul>

<h3 id="point-the-package">Point the package</h3>
<p>Set <code>main</code> in <code>package.json</code> to the precompiled version:</p>

<pre><code class="language-js">{
  "main": "dist/js2coffee.js"
}
</code></pre>

<h3 id="all-done">All done</h3>

<ul>
  <li>Every time <code>npm publish</code> is called, the pre-built version (dist/js2coffee.js) gets built</li>
  <li>Doing <code>require('js2coffee')</code> will point to the <code>dist/</code> version</li>
  <li>Doing <code>require('../index')</code> in your tests will point to the source version</li>
  <li>You can also do <code>require('js2coffee/index')</code> from other packages</li>
</ul>

<h3 id="babel">Babel</h3>

<p>For <a href="http://babeljs.io/">babeljs</a>, I recommend using <code>--loose</code> for libraries that will target legacy IE.</p>

<pre><code>-t [ babelify --loose all ]
</code></pre>


          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/get-started-with-mocha.html">
                Get started with Mocha testing
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/get-started-with-mocha.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>13 Feb 2015</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>Here’s the condensed 1-minute guide to setting up tests on a Node.js project.</p>

<h3 id="start-with-a-package">Start with a package</h3>
<p>Make a <code>package.json</code> file if you don’t have one yet:</p>

<pre><code class="language-sh">npm init
# just keep pressing enter.
# this will create the file `package.json`
</code></pre>

<p>Install your weapons:</p>

<pre><code class="language-sh">npm install --save-dev mocha chai
</code></pre>

<h3 id="write-tests">Write tests</h3>

<p>Make your first test file <code>test/my_test.js</code>:</p>

<pre><code class="language-js">/* test/my_test.js */
var expect = require('chai').expect;

describe('my test suite', function () {
  it('fails majestically', function () {
    expect(3).to.eql(2);
  });
});
</code></pre>

<p>Update your <code>package.json</code> to use mocha:</p>

<pre><code class="language-diff">  "scripts": {
-   "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
+   "test": "mocha"
  },
</code></pre>

<h3 id="run-tests">Run tests</h3>

<p>Run tests by typing <code>npm test</code>:</p>

<pre><code>  my test suite
    1) fails majestically


  0 passing (17ms)
  1 failing

  1) my test suite fails majestically:

      AssertionError: expected 3 to deeply equal 2
      + expected - actual

      +2
      -3

      test/test.js:5:18: Context.&lt;anonymous&gt;
</code></pre>

<p>Now go write tests that will pass!</p>

<h3 id="learn-a-bit-more-mocha">Learn a bit more mocha</h3>

<pre><code class="language-js">describe('test suite', function () {
  beforeEach(function() { /*...*/ });
  afterEach(function() { /*...*/ });

  before(function() { /*...*/ });
  after(function() { /*...*/ });

  it('a basic test', function() {
    /*...*/ });

  it('a test with a promise', function() {
    return somePromiseObject; });

  it('an asynchronous test', function(next) {
    if (success) { next(); } else { next(error); }
  });

  xit('use "xit" for pending tests', function() {
    /*...*/ });
});
</code></pre>

<p>Also see http://mochajs.org/ - read up on Mocha’s API</p>

<h3 id="more-on-chai">More on Chai</h3>

<pre><code class="language-js">expect(3).to.eql(2);

expect(obj).to.be.a('string');
expect(obj).to.be.null;
expect(obj).to.be.true;
expect(obj).to.be.false;
expect(obj).to.be.undefined;

expect(list).to.include("item");
expect(list).to.have.length(3);
expect(list).to.have.length.gt(0);
</code></pre>

<p>See: http://chaijs.com/api/bdd/ for other <code>expect()</code>ations</p>

<h3 id="further-reading">Further reading</h3>

<ul>
  <li>http://sinonjs.org/ - use Sinon for mocks</li>
</ul>


          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/get-started-with-ansible.html">
                Get started with Ansible in 2 minutes
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/get-started-with-ansible.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>27 Nov 2013</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <ul>
  <li>http://ansibleworks.com</li>
  <li>https://github.com/ansible/ansible</li>
</ul>

<h3 id="install-ansible">Install Ansible</h3>

<pre><code class="language-sh">$ brew install ansible            # OSX
$ [sudo] pip install ansible      # elsewhere
</code></pre>

<h3 id="start-your-project">Start your project</h3>

<pre><code class="language-sh">~$ mkdir setup
~$ cd setup
</code></pre>

<h3 id="create-an-inventory-file">Create an inventory file</h3>

<p>This is a list of hosts you want to manage, grouped into groups. (Hint: try
using 127.0.0.1 to deploy to your local machine)</p>

<pre><code class="language-dosini"># ~/setup/hosts

[sites]
127.0.0.1
192.168.0.1
192.168.0.2
192.168.0.3
</code></pre>

<h3 id="create-your-first-playbook">Create your first Playbook</h3>

<pre><code class="language-yaml"># ~/setup/playbook.yml

- hosts: 127.0.0.1
  user: root
  tasks:
    - name: install nginx
      apt: pkg=nginx state=present

    - name: start nginx every bootup
      service: name=nginx state=started enabled=yes

    - name: do something in the shell
      shell: echo hello &gt; /tmp/abc.txt

    - name: install bundler
      gem: name=bundler state=latest
</code></pre>

<h3 id="run-it">Run it</h3>

<pre><code class="language-sh">~/setup$ ls
hosts
playbook.yml
</code></pre>

<pre><code class="language-sh">~/setup$ ansible-playbook -i hosts playbook.yml
PLAY [all] ********************************************************************

GATHERING FACTS ***************************************************************
ok: [127.0.0.1]

TASK: [install nginx] *********************************************************
ok: [127.0.0.1]

TASK: [start nginx every bootup] **********************************************
ok: [127.0.0.1]
...
</code></pre>

<h3 id="read-more">Read more</h3>

<ul>
  <li>http://lowendbox.com/blog/getting-started-with-ansible/</li>
  <li>http://www.ansibleworks.com/docs/modules.html</li>
</ul>

          </div>
        </div>

      
        <div class='post-item'>
          <div class='post-headline'>
            <h1>
              <a href="/easy-favicons.html">
                Easily make favicon.ico
              </a>
            </h1>
            <h5 class='meta'>
              <a href="/easy-favicons.html">
                <span class='author'>Rico Sta. Cruz</span>
                &middot;
                <span class='date'>07 Jan 2013</span>
              </a>
            </h5>
          </div>

          <div class='post-content'>
            <p>To create <code>favicon.ico</code>, you don’t need anything other than ImageMagick.</p>

<pre><code>brew install imagemagick
sudo apt-get install imagemagick
</code></pre>

<p>Use it to convert PNG’s into .ico: (use 32px and 16px sizes for retina compatibility)</p>

<pre><code>convert favicon-32.png favicon-16.png favicon.ico
</code></pre>

<p>You can even use it to generate a 16px version from a 32px:</p>

<pre><code>convert favicon-32.png -resize 16x16 favicon16.png
</code></pre>

          </div>
        </div>

      
    </div>
  
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>

